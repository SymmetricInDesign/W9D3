{"version":3,"sources":["./frontend/follow_toggle.js","webpack/bootstrap","./frontend/twitter.js"],"names":[],"mappings":";;;;;;;;;AAAA,UAAU,SAAS;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;;AAEA,6B;;;;;;UCpEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBA,qBAAqB,mBAAO,CAAC,oDAAiB;;;AAG9C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL,GAAG,E","file":"bundle.js","sourcesContent":["// const { Module } = require(\"webpack\")\n\nclass FollowToggle{\n    constructor(el){\n        // console.log(el)\n        this.followeeId = el.getAttribute(\"data-followee-id\")\n        this.followerId = el.getAttribute(\"data-follower-id\")\n        this.followState = el.getAttribute(\"data-initial-follow-state\") \n            == \"true\" ? true : false;\n        // console.log(this.followState)\n        // console.log(this.userId)\n        this.el = $(el)\n        this.render()\n        this.addEventListener()\n    }\n\n    addEventListener(){\n        this.el.on(\"click\", this.handleClick.bind(this))\n    }\n\n    render(){\n        // console.log(this.el)\n        this.followState ? this.el.html(\"Unfollow!\") : this.el.html(\"Follow!\")\n    }\n\n    handleClick(e){\n        e.preventDefault()\n        // console.log(this.followState)\n        if (!this.followState){\n            // console.log(\"hello\")\n            this.followAJAX().then(res => {\n                this.followState = true\n                this.render()\n              })\n        }else{\n            // console.log(\"goodbye\")\n            this.unfollowAJAX().then(res=>{\n                console.log(res)\n                this.followState = false\n                this.render()\n            })\n        }\n    }\n\n    followAJAX(){\n        return $.ajax({\n            method: 'POST',\n            url: `/users/${this.followeeId}/follow`,\n            data: {\n                follower_id: this.followerId\n            },\n            dataType: 'json'\n        });\n    }\n\n    unfollowAJAX(){\n        return $.ajax({\n            method: 'DELETE',\n            url: `/users/${this.followeeId}/follow`,\n            data: {\n                follower_id: this.followerId\n            },\n            // console.log(data)\n            dataType: 'json'\n        });\n    }\n}\n\nmodule.exports = FollowToggle","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const FollowToggle = require(\"./follow_toggle\")\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    let followToggles = []\n    let followButtons = document.querySelectorAll(\".follow-toggle\")\n    followButtons.forEach((followButton) =>{\n        // console.log(followButton)\n        followToggles.push(new FollowToggle(followButton))\n    })\n\n\n  });"],"sourceRoot":""}